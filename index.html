<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üåç World Holidays API</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        line-height: 1.6;
        color: #333;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
      }

      .header {
        text-align: center;
        color: white;
        margin-bottom: 3rem;
      }

      .header h1 {
        font-size: 3rem;
        margin-bottom: 1rem;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .header p {
        font-size: 1.2rem;
        opacity: 0.9;
      }

      .card {
        background: white;
        border-radius: 15px;
        padding: 2rem;
        margin-bottom: 2rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease;
      }

      .card:hover {
        transform: translateY(-5px);
      }

      .card h2 {
        color: #667eea;
        margin-bottom: 1rem;
        border-bottom: 2px solid #eee;
        padding-bottom: 0.5rem;
      }

      .endpoints {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
      }

      .endpoint {
        background: #f8f9ff;
        border-radius: 10px;
        padding: 1.5rem;
        border-left: 4px solid #667eea;
      }

      .endpoint h3 {
        color: #667eea;
        margin-bottom: 0.5rem;
      }

      .endpoint code {
        background: #667eea;
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 5px;
        font-family: "Monaco", "Menlo", monospace;
        display: block;
        margin: 0.5rem 0;
        word-break: break-all;
      }

      .countries-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
        margin-top: 1rem;
      }

      .country-card {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        padding: 1.5rem;
        border-radius: 10px;
        text-align: center;
        transition: transform 0.3s ease;
      }

      .country-card:hover {
        transform: scale(1.05);
      }

      .country-card .flag {
        font-size: 3rem;
        margin-bottom: 0.5rem;
      }

      .country-card h3 {
        margin-bottom: 0.5rem;
      }

      .example {
        background: #f8f9ff;
        border-radius: 10px;
        padding: 1.5rem;
        margin: 1rem 0;
      }

      .example h4 {
        color: #667eea;
        margin-bottom: 0.5rem;
      }

      .example pre {
        background: #2d3748;
        color: #e2e8f0;
        padding: 1rem;
        border-radius: 5px;
        overflow-x: auto;
        font-family: "Monaco", "Menlo", monospace;
      }

      .stats {
        display: flex;
        justify-content: space-around;
        flex-wrap: wrap;
        gap: 1rem;
        margin: 2rem 0;
      }

      .stat {
        text-align: center;
        background: white;
        padding: 1rem;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        min-width: 120px;
      }

      .stat-number {
        font-size: 2rem;
        font-weight: bold;
        color: #667eea;
      }

      .stat-label {
        color: #666;
        margin-top: 0.5rem;
      }

      .footer {
        text-align: center;
        color: white;
        margin-top: 3rem;
        opacity: 0.8;
      }

      .footer a {
        color: white;
        text-decoration: underline;
      }

      /* Calendar Styles */
      .calendar {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 1px;
        background: #ddd;
        border-radius: 10px;
        overflow: hidden;
        margin: 1rem 0;
      }

      .calendar-header {
        background: #667eea;
        color: white;
        padding: 1rem;
        text-align: center;
        font-weight: bold;
        grid-column: 1 / -1;
      }

      .calendar-day-header {
        background: #764ba2;
        color: white;
        padding: 0.5rem;
        text-align: center;
        font-weight: bold;
        font-size: 0.9rem;
      }

      .calendar-day {
        background: white;
        padding: 0.5rem;
        min-height: 60px;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
        cursor: pointer;
        transition: background-color 0.2s ease;
        border: 1px solid transparent;
      }

      .calendar-day:hover {
        background: #f0f0f0;
      }

      .calendar-day.other-month {
        background: #f8f8f8;
        color: #ccc;
      }

      .calendar-day.holiday {
        background: linear-gradient(135deg, #ff6b6b, #ff8e53);
        color: white;
        font-weight: bold;
      }

      .calendar-day.holiday:hover {
        background: linear-gradient(135deg, #ff5252, #ff7043);
      }

      .calendar-day.today {
        border: 2px solid #667eea;
        font-weight: bold;
      }

      .day-number {
        font-size: 1rem;
        margin-bottom: 0.2rem;
      }

      .holiday-indicator {
        font-size: 0.7rem;
        text-align: center;
        line-height: 1;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        max-width: 100%;
      }

      .month-navigation {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }

      .month-nav-btn {
        background: #667eea;
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 5px;
        cursor: pointer;
        font-size: 1rem;
        transition: background-color 0.2s ease;
      }

      .month-nav-btn:hover {
        background: #5a67d8;
      }

      .current-month {
        font-size: 1.2rem;
        font-weight: bold;
        color: #667eea;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
          "
        >
          <div></div>
          <div style="display: flex; align-items: center; gap: 1rem">
            <label
              for="language-select"
              style="color: white; font-weight: bold"
            >
              üåê Language:
            </label>
            <select
              id="language-select"
              style="
                padding: 0.5rem;
                border-radius: 5px;
                border: 1px solid #ddd;
                font-size: 1rem;
                background: white;
              "
            >
              <option value="en">English</option>
              <option value="ko">ÌïúÍµ≠Ïñ¥</option>
            </select>
          </div>
        </div>
        <h1>üåç World Holidays API</h1>
        <p id="header-description">
          Free holiday data for South Korea, United States, Japan, China,
          Vietnam, Malaysia, Thailand, Canada, Brazil, and Taiwan
        </p>
      </div>

      <div class="stats">
        <div class="stat">
          <div class="stat-number">-</div>
          <div class="stat-label">Countries</div>
        </div>
        <div class="stat">
          <div class="stat-number">-</div>
          <div class="stat-label">Total Holidays</div>
        </div>
        <div class="stat">
          <div class="stat-number">-</div>
          <div class="stat-label">Years (2024-2026)</div>
        </div>
        <div class="stat">
          <div class="stat-number">0</div>
          <div class="stat-label">Cost (Free!)</div>
        </div>
      </div>

      <div class="card">
        <h2>üöÄ API Endpoints</h2>
        <div class="endpoints">
          <!-- Endpoints will be loaded dynamically from countries.json -->
        </div>
      </div>

      <div class="card">
        <h2>üè≥Ô∏è Supported Countries</h2>
        <div class="countries-grid">
          <!-- Countries will be loaded dynamically from countries.json -->
        </div>
      </div>

      <div class="card">
        <h2>üìÖ Interactive Holiday Calendar</h2>

        <div style="margin-bottom: 1.5rem">
          <label
            for="country-select"
            style="
              display: block;
              margin-bottom: 0.5rem;
              font-weight: bold;
              color: #667eea;
            "
          >
            üåç Select Country:
          </label>
          <select
            id="country-select"
            style="
              padding: 0.5rem;
              border-radius: 5px;
              border: 1px solid #ddd;
              font-size: 1rem;
              width: 200px;
            "
          >
            <!-- Options will be loaded dynamically from countries.json -->
          </select>
        </div>

        <div
          style="
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 10px;
            color: white;
            text-align: center;
          "
        >
          <div
            style="
              display: flex;
              justify-content: space-around;
              align-items: center;
              flex-wrap: wrap;
              gap: 1rem;
            "
          >
            <div>
              <div
                style="font-size: 1.5rem; font-weight: bold"
                id="remaining-count"
              >
                -
              </div>
              <div style="font-size: 0.9rem; opacity: 0.9">
                Remaining This Year
              </div>
            </div>
            <div>
              <div
                style="font-size: 1.5rem; font-weight: bold"
                id="total-holidays-count"
              >
                -
              </div>
              <div style="font-size: 0.9rem; opacity: 0.9">
                Holidays This Year
              </div>
            </div>
            <div>
              <div
                style="font-size: 1.5rem; font-weight: bold"
                id="current-year"
              >
                2025
              </div>
              <div style="font-size: 0.9rem; opacity: 0.9">Current Year</div>
            </div>
          </div>
        </div>

        <div id="calendar-container">
          <div
            id="calendar-loading"
            style="text-align: center; padding: 2rem; color: #667eea"
          >
            üìÖ Loading calendar...
          </div>
        </div>

        <div
          id="holiday-info"
          style="
            margin-top: 1rem;
            padding: 1rem;
            background: #f8f9ff;
            border-radius: 10px;
            display: none;
          "
        >
          <h4 style="color: #667eea; margin-bottom: 0.5rem">
            üéâ Holiday Information
          </h4>
          <div id="holiday-details"></div>
        </div>
      </div>

      <div class="card">
        <h2>üíª Usage Examples</h2>

        <div class="example">
          <h4>üì± Flutter/Dart</h4>
          <pre><code>import 'package:world_holidays/world_holidays.dart';

final worldHolidays = WorldHolidays();
final holidays = await worldHolidays.getHolidays('KR');
print('Found ${holidays.length} Korean holidays');</code></pre>
        </div>

        <div class="example">
          <h4>üåê JavaScript/Web</h4>
          <pre><code>fetch('https://beomq.github.io/world_holidays/api/holidays/kr.json')
  .then(response => response.json())
  .then(data => {
    console.log(`Found ${data.holidays.length} holidays`);
  });</code></pre>
        </div>

        <div class="example">
          <h4>üêç Python</h4>
          <pre><code>import requests

url = 'https://beomq.github.io/world_holidays/api/holidays/kr.json'
response = requests.get(url)
data = response.json()
print(f"Found {len(data['holidays'])} holidays")</code></pre>
        </div>

        <div class="example">
          <h4>üì¶ cURL</h4>
          <pre><code>curl -X GET "https://beomq.github.io/world_holidays/api/countries.json"</code></pre>
        </div>
      </div>

      <div class="card">
        <h2>üìä Data Structure</h2>
        <div class="example">
          <h4>üèõÔ∏è Countries Response</h4>
          <pre><code>{
  "lastUpdated": "2025-09-12T00:00:00.000Z",
  "totalCountries": 10,
  "supportedCountries": ["KR", "US", "JP", "CN", "VN", "MY", "TH", "CA", "BR", "TW"],
  "supportedYears": [2024, 2025, 2026],
  "totalHolidays": 508,
  "countries": [
    {
      "code": "KR",
      "name": "South Korea",
      "flag": "üá∞üá∑",
      "totalHolidays": 41,
      "dataUrl": "https://beomq.github.io/world_holidays/api/holidays/kr.json",
      "names": {
        "en": "South Korea",
        "ko": "ÎåÄÌïúÎØºÍµ≠"
      }
    }
  ]
}</code></pre>
        </div>

        <div class="example">
          <h4>üéâ Holiday Response</h4>
          <pre><code>{
  "country": "KR",
  "countryName": "South Korea",
  "lastUpdated": "2025-09-12T00:00:00.000Z",
  "supportedYears": [2024, 2025, 2026],
  "totalHolidays": 41,
  "holidays": [
    {
      "name": "Ïã†Ï†ï",
      "date": "2024-01-01",
      "type": "NATIONAL",
      "description": {
        "en": "New Year's Day",
        "ko": "ÏÉàÌï¥ Ï≤´ÎÇ†"
      }
    }
  ]
}</code></pre>
        </div>
      </div>

      <div class="card">
        <h2>üîó Links</h2>
        <ul style="list-style: none; padding: 0">
          <li style="margin: 0.5rem 0">
            üì¶
            <a href="https://pub.dev/packages/world_holidays" target="_blank"
              >pub.dev Package</a
            >
          </li>
          <li style="margin: 0.5rem 0">
            üíª
            <a href="https://github.com/beomq/world_holidays" target="_blank"
              >GitHub Repository</a
            >
          </li>
          <li style="margin: 0.5rem 0">
            üìñ
            <a
              href="https://github.com/beomq/world_holidays/blob/main/README.md"
              target="_blank"
              >Documentation</a
            >
          </li>
          <li style="margin: 0.5rem 0">
            üêõ
            <a
              href="https://github.com/beomq/world_holidays/issues"
              target="_blank"
              >Report Issues</a
            >
          </li>
        </ul>
      </div>

      <div class="footer">
        <p>
          Made with üåç by
          <a href="https://github.com/beomq" target="_blank">beomq</a>
        </p>
        <p>Free & Open Source ‚Ä¢ MIT License</p>
      </div>
    </div>

    <script>
      class HolidayCalendar {
        constructor() {
          this.currentDate = new Date();
          this.currentMonth = this.currentDate.getMonth();
          this.currentYear = this.currentDate.getFullYear();
          this.selectedCountry = "kr";
          this.holidays = [];
          this.countriesData = null;
          this.currentLanguage = "en";
          this.monthNames = [
            "January",
            "February",
            "March",
            "April",
            "May",
            "June",
            "July",
            "August",
            "September",
            "October",
            "November",
            "December",
          ];
          this.dayNames = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];

          // Translations
          this.translations = {
            en: {
              headerDescription:
                "Free holiday data for South Korea, United States, Japan, China, Vietnam, Malaysia, Thailand, Canada, Brazil, and Taiwan",
              countries: "Countries",
              totalHolidays: "Total Holidays",
              years: "Years (2024-2026)",
              cost: "Cost (Free!)",
              apiEndpoints: "API Endpoints",
              getCountries: "Get Countries",
              getCountriesDesc: "Get list of all supported countries",
              supportedCountries: "Supported Countries",
              interactiveCalendar: "Interactive Holiday Calendar",
              selectCountry: "Select Country:",
              remainingThisYear: "Remaining This Year",
              holidaysThisYear: "Holidays This Year",
              currentYear: "Current Year",
              holidayInformation: "Holiday Information",
              usageExamples: "Usage Examples",
              dataStructure: "Data Structure",
              links: "Links",
              reportIssues: "Report Issues",
              madeWith: "Made with",
              freeOpenSource: "Free & Open Source ‚Ä¢ MIT License",
            },
            ko: {
              headerDescription:
                "ÌïúÍµ≠, ÎØ∏Íµ≠, ÏùºÎ≥∏, Ï§ëÍµ≠, Î≤†Ìä∏ÎÇ®, ÎßêÎ†àÏù¥ÏãúÏïÑ, ÌÉúÍµ≠, Ï∫êÎÇòÎã§, Î∏åÎùºÏßà, ÎåÄÎßåÏùò Î¨¥Î£å Í≥µÌú¥Ïùº Îç∞Ïù¥ÌÑ∞",
              countries: "Íµ≠Í∞Ä",
              totalHolidays: "Ï¥ù Í≥µÌú¥Ïùº",
              years: "Ïó∞ÎèÑ (2024-2026)",
              cost: "ÎπÑÏö© (Î¨¥Î£å!)",
              apiEndpoints: "API ÏóîÎìúÌè¨Ïù∏Ìä∏",
              getCountries: "Íµ≠Í∞Ä Î™©Î°ù Ï°∞Ìöå",
              getCountriesDesc: "ÏßÄÏõêÎêòÎäî Î™®Îì† Íµ≠Í∞Ä Î™©Î°ù Ï°∞Ìöå",
              supportedCountries: "ÏßÄÏõê Íµ≠Í∞Ä",
              interactiveCalendar: "Í≥µÌú¥Ïùº Îã¨Î†•",
              selectCountry: "Íµ≠Í∞Ä ÏÑ†ÌÉù:",
              remainingThisYear: "Ïò¨Ìï¥ ÎÇ®ÏùÄ Ìú¥Ïùº",
              holidaysThisYear: "Ïò¨Ìï¥ Í≥µÌú¥Ïùº",
              currentYear: "ÌòÑÏû¨ Ïó∞ÎèÑ",
              holidayInformation: "Í≥µÌú¥Ïùº Ï†ïÎ≥¥",
              usageExamples: "ÏÇ¨Ïö© ÏòàÏ†ú",
              dataStructure: "Îç∞Ïù¥ÌÑ∞ Íµ¨Ï°∞",
              links: "ÎßÅÌÅ¨",
              reportIssues: "Ïù¥Ïäà Ïã†Í≥†",
              madeWith: "Ï†úÏûë",
              freeOpenSource: "Î¨¥Î£å Î∞è Ïò§ÌîàÏÜåÏä§ ‚Ä¢ MIT ÎùºÏù¥ÏÑ†Ïä§",
            },
          };
        }

        async init() {
          await this.loadCountriesData();
          await this.loadHolidays();
          this.updateTopStats();
          this.updateTranslations();
          this.render();
          this.bindEvents();
          this.updateRemainingHolidays();
        }

        async loadCountriesData() {
          try {
            const response = await fetch(
              "https://beomq.github.io/world_holidays/api/countries.json"
            );
            this.countriesData = await response.json();
          } catch (error) {
            console.error("Failed to load countries data:", error);
            this.countriesData = null;
          }
        }

        async loadHolidays() {
          try {
            const response = await fetch(
              `https://beomq.github.io/world_holidays/api/holidays/${this.selectedCountry}.json`
            );
            const data = await response.json();
            this.holidays = data.holidays || [];
          } catch (error) {
            console.error("Failed to load holidays:", error);
            this.holidays = [];
          }
        }

        updateTopStats() {
          if (!this.countriesData) return;

          // Update countries count
          const countriesStat = document.querySelector(
            ".stat:nth-child(1) .stat-number"
          );
          if (countriesStat) {
            countriesStat.textContent = this.countriesData.totalCountries;
          }

          // Update total holidays count
          const totalHolidaysStat = document.querySelector(
            ".stat:nth-child(2) .stat-number"
          );
          if (totalHolidaysStat) {
            totalHolidaysStat.textContent = this.countriesData.totalHolidays;
          }

          // Update supported years
          const yearsStat = document.querySelector(
            ".stat:nth-child(3) .stat-number"
          );
          if (yearsStat) {
            yearsStat.textContent = this.countriesData.supportedYears.length;
          }

          // Update supported countries section
          this.updateSupportedCountries();

          // Update API endpoints section
          this.updateApiEndpoints();
        }

        updateSupportedCountries() {
          if (!this.countriesData) return;

          // Update country cards
          const countriesGrid = document.querySelector(".countries-grid");
          if (countriesGrid) {
            // Clear existing country cards
            countriesGrid.innerHTML = "";

            // Create country cards dynamically
            this.countriesData.countries.forEach((country) => {
              const countryCard = document.createElement("div");
              countryCard.className = "country-card";
              const countryName =
                country.names && country.names[this.currentLanguage]
                  ? country.names[this.currentLanguage]
                  : country.name;

              countryCard.innerHTML = `
                <div class="flag">${country.flag}</div>
                <h3>${countryName}</h3>
                <p>Code: ${country.code}</p>
                <p>${country.totalHolidays} holidays</p>
              `;
              countriesGrid.appendChild(countryCard);
            });
          }

          // Update country select dropdown
          const countrySelect = document.getElementById("country-select");
          if (countrySelect) {
            // Clear existing options
            countrySelect.innerHTML = "";

            // Create options dynamically
            this.countriesData.countries.forEach((country) => {
              const option = document.createElement("option");
              option.value = country.code.toLowerCase();
              const countryName =
                country.names && country.names[this.currentLanguage]
                  ? country.names[this.currentLanguage]
                  : country.name;
              option.textContent = `${country.flag} ${countryName}`;
              countrySelect.appendChild(option);
            });
          }
        }

        updateApiEndpoints() {
          if (!this.countriesData) return;

          const endpointsContainer = document.querySelector(".endpoints");
          if (!endpointsContainer) return;

          // Clear existing endpoints
          endpointsContainer.innerHTML = "";

          // Add countries endpoint first
          const countriesEndpoint = document.createElement("div");
          countriesEndpoint.className = "endpoint";
          countriesEndpoint.innerHTML = `
            <h3>üìã Get Countries</h3>
            <p>Get list of all supported countries</p>
            <code>GET https://beomq.github.io/world_holidays/api/countries.json</code>
          `;
          endpointsContainer.appendChild(countriesEndpoint);

          // Add country-specific endpoints
          this.countriesData.countries.forEach((country) => {
            const endpoint = document.createElement("div");
            endpoint.className = "endpoint";
            const countryName =
              country.names && country.names[this.currentLanguage]
                ? country.names[this.currentLanguage]
                : country.name;
            endpoint.innerHTML = `
              <h3>${country.flag} ${countryName} Holidays</h3>
              <p>Get all ${countryName} holidays (${this.countriesData.supportedYears.join(
              "-"
            )})</p>
              <code>GET https://beomq.github.io/world_holidays/api/holidays/${country.code.toLowerCase()}.json</code>
            `;
            endpointsContainer.appendChild(endpoint);
          });
        }

        updateTranslations() {
          const t =
            this.translations[this.currentLanguage] || this.translations.en;

          // Update header description
          const headerDesc = document.getElementById("header-description");
          if (headerDesc) {
            headerDesc.textContent = t.headerDescription;
          }

          // Update stat labels
          const statLabels = document.querySelectorAll(".stat-label");
          if (statLabels.length >= 4) {
            statLabels[0].textContent = t.countries;
            statLabels[1].textContent = t.totalHolidays;
            statLabels[2].textContent = t.years;
            statLabels[3].textContent = t.cost;
          }

          // Update section headers
          const sectionHeaders = document.querySelectorAll(".card h2");
          sectionHeaders.forEach((header, index) => {
            const text = header.textContent;
            if (text.includes("üöÄ"))
              header.textContent = `üöÄ ${t.apiEndpoints}`;
            else if (text.includes("üè≥Ô∏è"))
              header.textContent = `üè≥Ô∏è ${t.supportedCountries}`;
            else if (text.includes("üìÖ"))
              header.textContent = `üìÖ ${t.interactiveCalendar}`;
            else if (text.includes("üíª"))
              header.textContent = `üíª ${t.usageExamples}`;
            else if (text.includes("üìä"))
              header.textContent = `üìä ${t.dataStructure}`;
            else if (text.includes("üîó")) header.textContent = `üîó ${t.links}`;
          });

          // Update country select label
          const countrySelectLabel = document.querySelector(
            'label[for="country-select"]'
          );
          if (countrySelectLabel) {
            countrySelectLabel.textContent = `üåç ${t.selectCountry}`;
          }

          // Update calendar stats labels
          const calendarStats = document.querySelectorAll(
            '[id="remaining-count"], [id="total-holidays-count"], [id="current-year"]'
          );
          if (calendarStats.length >= 3) {
            const remainingLabel =
              calendarStats[0].parentElement.querySelector("div:last-child");
            const totalLabel =
              calendarStats[1].parentElement.querySelector("div:last-child");
            const yearLabel =
              calendarStats[2].parentElement.querySelector("div:last-child");

            if (remainingLabel)
              remainingLabel.textContent = t.remainingThisYear;
            if (totalLabel) totalLabel.textContent = t.holidaysThisYear;
            if (yearLabel) yearLabel.textContent = t.currentYear;
          }

          // Update holiday info header
          const holidayInfoHeader = document.querySelector("#holiday-info h4");
          if (holidayInfoHeader) {
            holidayInfoHeader.textContent = `üéâ ${t.holidayInformation}`;
          }

          // Update footer
          const footer = document.querySelector(".footer p:last-child");
          if (footer) {
            footer.textContent = t.freeOpenSource;
          }
        }

        updateRemainingHolidays() {
          const today = new Date();
          const currentYear = today.getFullYear();

          // Filter holidays for current year only
          const currentYearHolidays = this.holidays.filter((holiday) => {
            const holidayDate = new Date(holiday.date);
            return holidayDate.getFullYear() === currentYear;
          });

          // Filter remaining holidays for current year
          const remainingHolidays = currentYearHolidays.filter((holiday) => {
            const holidayDate = new Date(holiday.date);
            return holidayDate >= today;
          });

          // Update remaining holidays count
          document.getElementById("remaining-count").textContent =
            remainingHolidays.length;

          // Update total holidays count for current year only
          document.getElementById("total-holidays-count").textContent =
            currentYearHolidays.length;

          // Update current year display
          document.getElementById("current-year").textContent = currentYear;
        }

        render() {
          const container = document.getElementById("calendar-container");

          // Create month navigation
          const nav = document.createElement("div");
          nav.className = "month-navigation";

          const prevBtn = document.createElement("button");
          prevBtn.className = "month-nav-btn";
          prevBtn.textContent = "‚Äπ Previous";
          prevBtn.addEventListener("click", () => {
            this.currentMonth--;
            if (this.currentMonth < 0) {
              this.currentMonth = 11;
              this.currentYear--;
            }
            this.render();
          });

          const monthDisplay = document.createElement("div");
          monthDisplay.className = "current-month";
          monthDisplay.textContent = `${this.monthNames[this.currentMonth]} ${
            this.currentYear
          }`;

          const nextBtn = document.createElement("button");
          nextBtn.className = "month-nav-btn";
          nextBtn.textContent = "Next ‚Ä∫";
          nextBtn.addEventListener("click", () => {
            this.currentMonth++;
            if (this.currentMonth > 11) {
              this.currentMonth = 0;
              this.currentYear++;
            }
            this.render();
          });

          nav.appendChild(prevBtn);
          nav.appendChild(monthDisplay);
          nav.appendChild(nextBtn);

          // Create calendar
          const calendar = document.createElement("div");
          calendar.className = "calendar";

          // Add day headers
          this.dayNames.forEach((day) => {
            const dayHeader = document.createElement("div");
            dayHeader.className = "calendar-day-header";
            dayHeader.textContent = day;
            calendar.appendChild(dayHeader);
          });

          // Get first day of month and number of days
          const firstDay = new Date(
            this.currentYear,
            this.currentMonth,
            1
          ).getDay();
          const daysInMonth = new Date(
            this.currentYear,
            this.currentMonth + 1,
            0
          ).getDate();
          const daysInPrevMonth = new Date(
            this.currentYear,
            this.currentMonth,
            0
          ).getDate();

          // Add previous month's trailing days
          for (let i = firstDay - 1; i >= 0; i--) {
            const day = daysInPrevMonth - i;
            const dayElement = this.createDayElement(day, true);
            calendar.appendChild(dayElement);
          }

          // Add current month's days
          for (let day = 1; day <= daysInMonth; day++) {
            const dayElement = this.createDayElement(day, false);
            calendar.appendChild(dayElement);
          }

          // Add next month's leading days
          const remainingCells = 42 - (firstDay + daysInMonth);
          for (let day = 1; day <= remainingCells; day++) {
            const dayElement = this.createDayElement(day, true);
            calendar.appendChild(dayElement);
          }

          container.innerHTML = "";
          container.appendChild(nav);
          container.appendChild(calendar);
        }

        createDayElement(day, isOtherMonth) {
          const dayElement = document.createElement("div");
          dayElement.className = "calendar-day";

          if (isOtherMonth) {
            dayElement.classList.add("other-month");
          }

          const dayNumber = document.createElement("div");
          dayNumber.className = "day-number";
          dayNumber.textContent = day;

          const today = new Date();
          if (
            !isOtherMonth &&
            day === today.getDate() &&
            this.currentMonth === today.getMonth() &&
            this.currentYear === today.getFullYear()
          ) {
            dayElement.classList.add("today");
          }

          // Check for holidays
          const dateStr = `${this.currentYear}-${String(
            this.currentMonth + 1
          ).padStart(2, "0")}-${String(day).padStart(2, "0")}`;
          const holiday = this.holidays.find((h) => h.date === dateStr);

          if (holiday && !isOtherMonth) {
            dayElement.classList.add("holiday");
            const holidayIndicator = document.createElement("div");
            holidayIndicator.className = "holiday-indicator";
            holidayIndicator.textContent =
              holiday.name.length > 10
                ? holiday.name.substring(0, 8) + "..."
                : holiday.name;
            dayElement.appendChild(dayNumber);
            dayElement.appendChild(holidayIndicator);

            dayElement.addEventListener("click", () => {
              this.showHolidayInfo(holiday);
            });
          } else {
            dayElement.appendChild(dayNumber);
          }

          return dayElement;
        }

        showHolidayInfo(holiday) {
          const infoDiv = document.getElementById("holiday-info");
          const detailsDiv = document.getElementById("holiday-details");

          // Handle multilingual description
          let description = holiday.description;
          if (typeof description === "object" && description !== null) {
            description =
              description[this.currentLanguage] ||
              description.en ||
              description.ko ||
              JSON.stringify(description);
          }

          detailsDiv.innerHTML = `
            <strong>${holiday.name}</strong><br>
            üìÖ Date: ${holiday.date}<br>
            üè∑Ô∏è Type: ${holiday.type}<br>
            üìù Description: ${description}
          `;

          infoDiv.style.display = "block";
        }

        bindEvents() {
          document
            .getElementById("country-select")
            .addEventListener("change", async (e) => {
              this.selectedCountry = e.target.value;
              await this.loadHolidays();
              this.render();
              this.updateRemainingHolidays();
            });

          document
            .getElementById("language-select")
            .addEventListener("change", (e) => {
              this.currentLanguage = e.target.value;
              this.updateTranslations();
              this.updateSupportedCountries();
              this.updateApiEndpoints();
            });
        }
      }

      // Initialize calendar when page loads
      document.addEventListener("DOMContentLoaded", () => {
        const calendar = new HolidayCalendar();
        calendar.init();
      });
    </script>
  </body>
</html>
